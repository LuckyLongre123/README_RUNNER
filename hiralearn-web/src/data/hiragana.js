export const hiraganaData = [
  // Vowels
  {
    id: 1,
    char: "あ",
    romaji: "a",
    hindiPronunciation: "अ",
    hindiHint: "उच्चारण: 'अ' जैसा, बहुत छोटा 'अ'. आ (aa) भी एक मतलब है।",
    exampleWord: "あめ (ame)",
    exampleMeaning: "बारिश या कैंडी",
    audioText: "a",
    strokes: [
      { path: "M15,50 L85,50", color: "#ff6b6b" },
      { path: "M50,25 L50,75", color: "#4ecdc4" }
    ]
  },
  {
    id: 2,
    char: "い",
    romaji: "i",
    hindiPronunciation: "इ",
    hindiHint: "उच्चारण: 'इ' जैसा, बहुत छोटा 'इ'।",
    exampleWord: "いち (ichi)",
    exampleMeaning: "एक",
    audioText: "i",
    strokes: [
      { path: "M35,25 L35,75", color: "#ff6b6b" },
      { path: "M65,25 L65,75", color: "#4ecdc4" }
    ]
  },
  {
    id: 3,
    char: "う",
    romaji: "u",
    hindiPronunciation: "उ",
    hindiHint: "उच्चारण: 'उ' जैसा, बहुत छोटा 'उ'।",
    exampleWord: "うみ (umi)",
    exampleMeaning: "समुद्र",
    audioText: "u",
    strokes: [
      { path: "M45,25 Q55,15 65,25", color: "#ff6b6b" },
      { path: "M55,25 L55,75", color: "#4ecdc4" }
    ]
  },
  {
    id: 4,
    char: "え",
    romaji: "e",
    hindiPronunciation: "ए",
    hindiHint: "उच्चारण: 'ए' जैसा, बहुत छोटा 'ए'।",
    exampleWord: "えき (eki)",
    exampleMeaning: "स्टेशन",
    audioText: "e",
    strokes: [
      { path: "M15,35 L85,35", color: "#ff6b6b" },
      { path: "M50,15 L50,85", color: "#4ecdc4" },
      { path: "M15,65 L85,65", color: "#45b7d1" }
    ]
  },
  {
    id: 5,
    char: "お",
    romaji: "o",
    hindiPronunciation: "ओ",
    hindiHint: "उच्चारण: 'ओ' जैसा, बहुत छोटा 'ओ'।",
    exampleWord: "おと (oto)",
    exampleMeaning: "आवाज",
    audioText: "o",
    strokes: [
      { path: "M35,50 Q50,25 65,50", color: "#ff6b6b" },
      { path: "M35,50 Q50,75 65,50", color: "#4ecdc4" }
    ]
  },
  // K
  {
    id: 6,
    char: "か",
    romaji: "ka",
    hindiPronunciation: "का",
    hindiHint: "उच्चारण: 'का' जैसा, लेकिन हल्का और छोटा।",
    exampleWord: "かわ (kawa)",
    exampleMeaning: "नदी",
    audioText: "ka",
    strokes: [
      { path: "M25,25 L25,75", color: "#ff6b6b" },
      { path: "M25,25 L75,25", color: "#4ecdc4" },
      { path: "M75,25 L75,75", color: "#45b7d1" }
    ]
  },
  {
    id: 7,
    char: "き",
    romaji: "ki",
    hindiPronunciation: "की",
    hindiHint: "उच्चारण: 'की' जैसा, लेकिन हल्का।",
    exampleWord: "き (ki)",
    exampleMeaning: "पेड़",
    audioText: "ki",
    strokes: [
      { path: "M25,25 L75,25", color: "#ff6b6b" },
      { path: "M50,25 L50,75", color: "#4ecdc4" },
      { path: "M25,50 L75,50", color: "#45b7d1" }
    ]
  },
  {
    id: 8,
    char: "く",
    romaji: "ku",
    hindiPronunciation: "कू",
    hindiHint: "उच्चारण: 'कू' जैसा, लेकिन हल्का।",
    exampleWord: "くち (kuchi)",
    exampleMeaning: "मुंह",
    audioText: "ku",
    strokes: [
      { path: "M25,25 L50,50", color: "#ff6b6b" },
      { path: "M50,50 L75,25", color: "#4ecdc4" }
    ]
  },
  {
    id: 9,
    char: "け",
    romaji: "ke",
    hindiPronunciation: "के",
    hindiHint: "उच्चारण: 'के' जैसा, लेकिन हल्का।",
    exampleWord: "けしき (keshiki)",
    exampleMeaning: "दृश्य",
    audioText: "ke",
    strokes: [
      { path: "M25,25 L25,75", color: "#ff6b6b" },
      { path: "M25,25 L75,25", color: "#4ecdc4" },
      { path: "M25,50 L65,50", color: "#45b7d1" }
    ]
  },
  {
    id: 10,
    char: "こ",
    romaji: "ko",
    hindiPronunciation: "को",
    hindiHint: "उच्चारण: 'को' जैसा, लेकिन हल्का।",
    exampleWord: "こども (kodomo)",
    exampleMeaning: "बच्चा",
    audioText: "ko",
    strokes: [
      { path: "M25,25 L75,25", color: "#ff6b6b" },
      { path: "M25,50 L75,50", color: "#4ecdc4" }
    ]
  },
  // S
  {
    id: 11,
    char: "さ",
    romaji: "sa",
    hindiPronunciation: "सा",
    hindiHint: "उच्चारण: 'सा' जैसा।",
    exampleWord: "さくら (sakura)",
    exampleMeaning: "चेरी",
    audioText: "sa",
    strokes: [
      { path: "M30,30 Q50,25 70,30", color: "#ff6b6b" },
      { path: "M30,50 L70,50", color: "#4ecdc4" },
      { path: "M30,70 Q50,75 70,70", color: "#45b7d1" }
    ]
  },
  {
    id: 12,
    char: "し",
    romaji: "shi",
    hindiPronunciation: "शी",
    hindiHint: "उच्चारण: 'शी' जैसा।",
    exampleWord: "しお (shio)",
    exampleMeaning: "नमक",
    audioText: "shi",
    strokes: [
      { path: "M50,20 L50,80 Q40,90 30,80", color: "#ff6b6b" }
    ]
  },
  {
    id: 13,
    char: "す",
    romaji: "su",
    hindiPronunciation: "सू",
    hindiHint: "उच्चारण: 'सू' जैसा।",
    exampleWord: "すし (sushi)",
    exampleMeaning: "सुशी",
    audioText: "su",
    strokes: [
      { path: "M30,20 Q50,20 50,40 Q50,60 30,60", color: "#ff6b6b" }
    ]
  },
  {
    id: 14,
    char: "せ",
    romaji: "se",
    hindiPronunciation: "से",
    hindiHint: "उच्चारण: 'से' जैसा।",
    exampleWord: "せかい (sekai)",
    exampleMeaning: "दुनिया",
    audioText: "se",
    strokes: [
      { path: "M30,30 Q50,20 70,30", color: "#ff6b6b" },
      { path: "M50,30 L50,70", color: "#4ecdc4" },
      { path: "M30,70 Q50,80 70,70", color: "#45b7d1" }
    ]
  },
  {
    id: 15,
    char: "そ",
    romaji: "so",
    hindiPronunciation: "सो",
    hindiHint: "उच्चारण: 'सो' जैसा।",
    exampleWord: "そら (sora)",
    exampleMeaning: "आकाश",
    audioText: "so",
    strokes: [
      { path: "M30,20 Q20,40 30,60", color: "#ff6b6b" },
      { path: "M70,20 L70,80 Q60,90 50,80", color: "#4ecdc4" }
    ]
  },
  // T
  {
    id: 16,
    char: "た",
    romaji: "ta",
    hindiPronunciation: "ता",
    hindiHint: "उच्चारण: 'ता' जैसा।",
    exampleWord: "たこ (tako)",
    exampleMeaning: "ऑक्टोपस",
    audioText: "ta",
    strokes: [
      { path: "M30,30 Q50,20 70,30", color: "#ff6b6b" },
      { path: "M50,30 L50,70", color: "#4ecdc4" },
      { path: "M30,70 Q50,80 70,70", color: "#45b7d1" }
    ]
  },
  {
    id: 17,
    char: "ち",
    romaji: "chi",
    hindiPronunciation: "ची",
    hindiHint: "उच्चारण: 'ची' जैसा।",
    exampleWord: "ちず (chizu)",
    exampleMeaning: "नक्शा",
    audioText: "chi",
    strokes: [
      { path: "M50,20 L50,80 Q60,90 70,80", color: "#ff6b6b" }
    ]
  },
  {
    id: 18,
    char: "つ",
    romaji: "tsu",
    hindiPronunciation: "त्सू",
    hindiHint: "उच्चारण: 'त्सू' जैसा।",
    exampleWord: "つな (tsuna)",
    exampleMeaning: "रस्सी",
    audioText: "tsu",
    strokes: [
      { path: "M50,20 L50,80", color: "#ff6b6b" },
      { path: "M40,80 L60,80", color: "#4ecdc4" }
    ]
  },
  {
    id: 19,
    char: "て",
    romaji: "te",
    hindiPronunciation: "ते",
    hindiHint: "उच्चारण: 'ते' जैसा।",
    exampleWord: "てがみ (tegami)",
    exampleMeaning: "पत्र",
    audioText: "te",
    strokes: [
      { path: "M30,30 Q50,20 70,30", color: "#ff6b6b" },
      { path: "M70,30 L70,70", color: "#4ecdc4" },
      { path: "M30,70 L70,70", color: "#45b7d1" }
    ]
  },
  {
    id: 20,
    char: "と",
    romaji: "to",
    hindiPronunciation: "तो",
    hindiHint: "उच्चारण: 'तो' जैसा।",
    exampleWord: "とけい (tokei)",
    exampleMeaning: "घड़ी",
    audioText: "to",
    strokes: [
      { path: "M30,30 L70,30", color: "#ff6b6b" },
      { path: "M50,30 L50,70", color: "#4ecdc4" },
      { path: "M30,70 L70,70", color: "#45b7d1" }
    ]
  },
  // N
  {
    id: 21,
    char: "な",
    romaji: "na",
    hindiPronunciation: "ना",
    hindiHint: "उच्चारण: 'ना' जैसा।",
    exampleWord: "なまえ (namae)",
    exampleMeaning: "नाम",
    audioText: "na",
    strokes: [
      { path: "M30,30 L30,70", color: "#ff6b6b" },
      { path: "M30,30 L70,30", color: "#4ecdc4" },
      { path: "M70,30 L70,70", color: "#45b7d1" }
    ]
  },
  {
    id: 22,
    char: "に",
    romaji: "ni",
    hindiPronunciation: "नी",
    hindiHint: "उच्चारण: 'नी' जैसा।",
    exampleWord: "にく (niku)",
    exampleMeaning: "मांस",
    audioText: "ni",
    strokes: [
      { path: "M50,30 L30,70", color: "#ff6b6b" },
      { path: "M50,30 L70,70", color: "#4ecdc4" },
      { path: "M30,50 L70,50", color: "#45b7d1" }
    ]
  },
  {
    id: 23,
    char: "ぬ",
    romaji: "nu",
    hindiPronunciation: "नू",
    hindiHint: "उच्चारण: 'नू' जैसा।",
    exampleWord: "ぬま (numa)",
    exampleMeaning: "दलदल",
    audioText: "nu",
    strokes: [
      { path: "M50,30 L30,50", color: "#ff6b6b" },
      { path: "M30,50 L50,70", color: "#4ecdc4" },
      { path: "M50,70 L70,50", color: "#45b7d1" }
    ]
  },
  {
    id: 24,
    char: "ね",
    romaji: "ne",
    hindiPronunciation: "ने",
    hindiHint: "उच्चारण: 'ने' जैसा।",
    exampleWord: "ねこ (neko)",
    exampleMeaning: "बिल्ली",
    audioText: "ne",
    strokes: [
      { path: "M30,30 L70,30", color: "#ff6b6b" },
      { path: "M70,30 L70,70", color: "#4ecdc4" }
    ]
  },
  {
    id: 25,
    char: "の",
    romaji: "no",
    hindiPronunciation: "नो",
    hindiHint: "उच्चारण: 'नो' जैसा।",
    exampleWord: "のり (nori)",
    exampleMeaning: "समुद्री शैवाल",
    audioText: "no",
    strokes: [
      { path: "M50,30 L50,70", color: "#ff6b6b" },
      { path: "M30,50 L70,50", color: "#4ecdc4" }
    ]
  },
  // H
  {
    id: 26,
    char: "は",
    romaji: "ha",
    hindiPronunciation: "हा",
    hindiHint: "उच्चारण: 'हा' जैसा।",
    exampleWord: "はな (hana)",
    exampleMeaning: "फूल",
    audioText: "ha",
    strokes: [
      { path: "M30,30 L30,70", color: "#ff6b6b" },
      { path: "M30,50 L70,50", color: "#4ecdc4" },
      { path: "M70,30 L70,70", color: "#45b7d1" }
    ]
  },
  {
    id: 27,
    char: "ひ",
    romaji: "hi",
    hindiPronunciation: "ही",
    hindiHint: "उच्चारण: 'ही' जैसा।",
    exampleWord: "ひ (hi)",
    exampleMeaning: "दिन",
    audioText: "hi",
    strokes: [
      { path: "M30,30 L70,30", color: "#ff6b6b" },
      { path: "M50,30 L50,70", color: "#4ecdc4" }
    ]
  },
  {
    id: 28,
    char: "ふ",
    romaji: "fu",
    hindiPronunciation: "फू",
    hindiHint: "उच्चारण: 'फू' जैसा।",
    exampleWord: "ふゆ (fuyu)",
    exampleMeaning: "सर्दी",
    audioText: "fu",
    strokes: [
      { path: "M50,30 L30,50", color: "#ff6b6b" },
      { path: "M30,50 L50,70", color: "#4ecdc4" },
      { path: "M50,70 L70,50", color: "#45b7d1" }
    ]
  },
  {
    id: 29,
    char: "へ",
    romaji: "he",
    hindiPronunciation: "हे",
    hindiHint: "उच्चारण: 'हे' जैसा।",
    exampleWord: "へや (heya)",
    exampleMeaning: "कमरा",
    audioText: "he",
    strokes: [
      { path: "M30,30 L70,30", color: "#ff6b6b" },
      { path: "M30,50 L50,50", color: "#4ecdc4" }
    ]
  },
  {
    id: 30,
    char: "ほ",
    romaji: "ho",
    hindiPronunciation: "हो",
    hindiHint: "उच्चारण: 'हो' जैसा।",
    exampleWord: "ほん (hon)",
    exampleMeaning: "किताब",
    audioText: "ho",
    strokes: [
      { path: "M30,30 L30,70", color: "#ff6b6b" },
      { path: "M30,30 L70,30", color: "#4ecdc4" }
    ]
  },
  // M
  {
    id: 31,
    char: "ま",
    romaji: "ma",
    hindiPronunciation: "मा",
    hindiHint: "उच्चारण: 'मा' जैसा।",
    exampleWord: "まめ (mame)",
    exampleMeaning: "फली",
    audioText: "ma",
    strokes: [
      { path: "M30,30 L70,30", color: "#ff6b6b" },
      { path: "M50,30 L50,70", color: "#4ecdc4" },
      { path: "M30,70 L70,70", color: "#45b7d1" }
    ]
  },
  {
    id: 32,
    char: "み",
    romaji: "mi",
    hindiPronunciation: "मी",
    hindiHint: "उच्चारण: 'मी' जैसा।",
    exampleWord: "みず (mizu)",
    exampleMeaning: "पानी",
    audioText: "mi",
    strokes: [
      { path: "M50,30 L30,50", color: "#ff6b6b" },
      { path: "M30,50 L50,70", color: "#4ecdc4" }
    ]
  },
  {
    id: 33,
    char: "む",
    romaji: "mu",
    hindiPronunciation: "मू",
    hindiHint: "उच्चारण: 'मू' जैसा।",
    exampleWord: "むし (mushi)",
    exampleMeaning: "कीड़ा",
    audioText: "mu",
    strokes: [
      { path: "M30,30 L50,50", color: "#ff6b6b" },
      { path: "M50,50 L70,30", color: "#4ecdc4" },
      { path: "M50,50 L50,70", color: "#45b7d1" }
    ]
  },
  {
    id: 34,
    char: "め",
    romaji: "me",
    hindiPronunciation: "मे",
    hindiHint: "उच्चारण: 'मे' जैसा।",
    exampleWord: "め (me)",
    exampleMeaning: "आंख",
    audioText: "me",
    strokes: [
      { path: "M30,30 L70,30", color: "#ff6b6b" },
      { path: "M70,30 L70,70", color: "#4ecdc4" },
      { path: "M30,70 L70,70", color: "#45b7d1" }
    ]
  },
  {
    id: 35,
    char: "も",
    romaji: "mo",
    hindiPronunciation: "मो",
    hindiHint: "उच्चारण: 'मो' जैसा।",
    exampleWord: "もり (mori)",
    exampleMeaning: "जंगल",
    audioText: "mo",
    strokes: [
      { path: "M30,30 L70,30", color: "#ff6b6b" },
      { path: "M70,30 L70,70", color: "#4ecdc4" }
    ]
  },
  // Y
  {
    id: 36,
    char: "や",
    romaji: "ya",
    hindiPronunciation: "या",
    hindiHint: "उच्चारण: 'या' जैसा।",
    exampleWord: "やま (yama)",
    exampleMeaning: "पहाड़",
    audioText: "ya",
    strokes: [
      { path: "M50,30 L30,50", color: "#ff6b6b" },
      { path: "M30,50 L50,70", color: "#4ecdc4" },
      { path: "M50,50 L70,50", color: "#45b7d1" }
    ]
  },
  {
    id: 37,
    char: "ゆ",
    romaji: "yu",
    hindiPronunciation: "यू",
    hindiHint: "उच्चारण: 'यू' जैसा।",
    exampleWord: "ゆき (yuki)",
    exampleMeaning: "बर्फ",
    audioText: "yu",
    strokes: [
      { path: "M30,30 L50,50", color: "#ff6b6b" },
      { path: "M50,50 L70,30", color: "#4ecdc4" },
      { path: "M50,50 L50,70", color: "#45b7d1" }
    ]
  },
  {
    id: 38,
    char: "よ",
    romaji: "yo",
    hindiPronunciation: "यो",
    hindiHint: "उच्चारण: 'यो' जैसा।",
    exampleWord: "よる (yoru)",
    exampleMeaning: "रात",
    audioText: "yo",
    strokes: [
      { path: "M50,30 L50,70", color: "#ff6b6b" },
      { path: "M30,50 L70,50", color: "#4ecdc4" }
    ]
  },
  // R
  {
    id: 39,
    char: "ら",
    romaji: "ra",
    hindiPronunciation: "रा",
    hindiHint: "उच्चारण: 'रा' जैसा।",
    exampleWord: "らいす (raisu)",
    exampleMeaning: "चावल",
    audioText: "ra",
    strokes: [
      { path: "M30,30 L70,30", color: "#ff6b6b" },
      { path: "M70,30 L70,70", color: "#4ecdc4" },
      { path: "M30,50 L70,50", color: "#45b7d1" }
    ]
  },
  {
    id: 40,
    char: "り",
    romaji: "ri",
    hindiPronunciation: "री",
    hindiHint: "उच्चारण: 'री' जैसा।",
    exampleWord: "りんご (ringo)",
    exampleMeaning: "सेब",
    audioText: "ri",
    strokes: [
      { path: "M50,30 L30,70", color: "#ff6b6b" },
      { path: "M50,30 L70,70", color: "#4ecdc4" }
    ]
  },
  {
    id: 41,
    char: "る",
    romaji: "ru",
    hindiPronunciation: "रू",
    hindiHint: "उच्चारण: 'रू' जैसा।",
    exampleWord: "るす (rusu)",
    exampleMeaning: "अनुपस्थित",
    audioText: "ru",
    strokes: [
      { path: "M30,30 L50,50", color: "#ff6b6b" },
      { path: "M50,50 L70,30", color: "#4ecdc4" }
    ]
  },
  {
    id: 42,
    char: "れ",
    romaji: "re",
    hindiPronunciation: "रे",
    hindiHint: "उच्चारण: 'रे' जैसा।",
    exampleWord: "れい (rei)",
    exampleMeaning: "शून्य",
    audioText: "re",
    strokes: [
      { path: "M30,30 L70,30", color: "#ff6b6b" },
      { path: "M70,30 L70,70", color: "#4ecdc4" }
    ]
  },
  {
    id: 43,
    char: "ろ",
    romaji: "ro",
    hindiPronunciation: "रो",
    hindiHint: "उच्चारण: 'रो' जैसा।",
    exampleWord: "ろく (roku)",
    exampleMeaning: "छह",
    audioText: "ro",
    strokes: [
      { path: "M30,30 L70,30", color: "#ff6b6b" },
      { path: "M70,30 L70,70", color: "#4ecdc4" },
      { path: "M30,70 L70,70", color: "#45b7d1" }
    ]
  },
  // W
  {
    id: 44,
    char: "わ",
    romaji: "wa",
    hindiPronunciation: "वा",
    hindiHint: "उच्चारण: 'वा' जैसा।",
    exampleWord: "わたし (watashi)",
    exampleMeaning: "मैं",
    audioText: "wa",
    strokes: [
      { path: "M30,30 L50,50", color: "#ff6b6b" },
      { path: "M50,50 L70,30", color: "#4ecdc4" },
      { path: "M50,50 L50,70", color: "#45b7d1" }
    ]
  },
  {
    id: 45,
    char: "を",
    romaji: "wo",
    hindiPronunciation: "वो",
    hindiHint: "उच्चारण: 'वो' जैसा।",
    exampleWord: "を (wo)",
    exampleMeaning: "को (particle)",
    audioText: "wo",
    strokes: [
      { path: "M50,30 L30,50", color: "#ff6b6b" },
      { path: "M30,50 L50,70", color: "#4ecdc4" }
    ]
  },
  {
    id: 46,
    char: "ん",
    romaji: "n",
    hindiPronunciation: "ं",
    hindiHint: "उच्चारण: nasal 'n'।",
    exampleWord: "にほん (nihon)",
    exampleMeaning: "जापान",
    audioText: "n",
    strokes: [
      { path: "M50,30 L50,70", color: "#ff6b6b" }
    ]
  }
];

export const getRandomQuestions = (selectedChars, count = 5, selectedTypes = ['multipleChoice']) => {
  const selectedData = selectedChars === 'all' 
    ? hiraganaData 
    : hiraganaData.filter(c => selectedChars.includes(c.id));
  
  const shuffled = [...selectedData].sort(() => Math.random() - 0.5);
  const selected = shuffled.slice(0, Math.min(count, shuffled.length));
  
  const questions = selected.map(char => {
    const randomType = selectedTypes[Math.floor(Math.random() * selectedTypes.length)];
    
    if (randomType === 'multipleChoice') {
      const questionTypes = ['hiraganaToHindi', 'hindiToHiragana'];
      const type = questionTypes[Math.floor(Math.random() * questionTypes.length)];
      
      let options = [];
      if (type === 'hiraganaToHindi') {
        const allOptions = hiraganaData.map(c => c.hindiPronunciation);
        options = [char.hindiPronunciation];
        while (options.length < 4) {
          const randomOption = allOptions[Math.floor(Math.random() * allOptions.length)];
          if (!options.includes(randomOption)) {
            options.push(randomOption);
          }
        }
      } else {
        const allOptions = hiraganaData.map(c => ({char: c.char, romaji: c.romaji}));
        options = [{char: char.char, romaji: char.romaji}];
        while (options.length < 4) {
          const randomOption = allOptions[Math.floor(Math.random() * allOptions.length)];
          if (!options.some(opt => opt.char === randomOption.char)) {
            options.push(randomOption);
          }
        }
      }
      
      return {
        char,
        type,
        options: options.sort(() => Math.random() - 0.5),
        correctAnswer: type === 'hiraganaToHindi' ? char.hindiPronunciation : char.char
      };
    } else if (quizType === 'matchFollowing') {
      return {
        char,
        type: 'matchFollowing',
        options: [], // Will be handled in component
        correctAnswer: char.romaji
      };
    } else if (quizType === 'writing') {
      return {
        char,
        type: 'writing',
        options: [],
        correctAnswer: char.romaji
      };
    } else if (quizType === 'audioQuiz') {
      const allOptions = hiraganaData.map(c => ({char: c.char, romaji: c.romaji}));
      let options = [{char: char.char, romaji: char.romaji}];
      while (options.length < 4) {
        const randomOption = allOptions[Math.floor(Math.random() * allOptions.length)];
        if (!options.some(opt => opt.char === randomOption.char)) {
          options.push(randomOption);
        }
      }
      return {
        char,
        type: 'audioQuiz',
        options: options.sort(() => Math.random() - 0.5),
        correctAnswer: char.char
      };
    } else if (quizType === 'romajiToHiragana') {
      const allOptions = hiraganaData.map(c => ({char: c.char, romaji: c.romaji}));
      let options = [{char: char.char, romaji: char.romaji}];
      while (options.length < 4) {
        const randomOption = allOptions[Math.floor(Math.random() * allOptions.length)];
        if (!options.some(opt => opt.char === randomOption.char)) {
          options.push(randomOption);
        }
      }
      return {
        char,
        type: 'romajiToHiragana',
        options: options.sort(() => Math.random() - 0.5),
        correctAnswer: char.char
      };
    }
  });
  
  return questions;
};